angular.module("fixedHeadTable",[]),angular.module("fixedHeadTable").directive("fixedHead",["$timeout",function(a){"use strict";return{link:function(b,c){var d=angular,e=function(a,b){var c=[];return d.forEach(a,function(){c.push(b.apply(this,arguments))}),c},f=function(a){var b=a.offsetWidth+"px";a.style.width=b},g=null,h=function(){if(g)return g;var a=c.find("thead"),b=c.find("tfoot");return g={table:{height:parseInt(c.css("height"),10),maxHeight:parseInt(c.css("maxHeight"),10)},thead:{height:a[0]?a[0].offsetHeight:0},tfoot:{height:b[0]?b[0].offsetHeight:0}}},i=null,j=function(){if(i)return i;var a=c.find("tbody").find("tr")[0];return a?i={colWidths:e(a.children,function(a){return a.offsetWidth})}:null},k=function(){var a=c.find("tbody"),b=d.element(a.find("tr")[0]).children(),e=j();return e?(angular.forEach(b,function(a,b){d.element(a).css("width",e.colWidths[b]+"px")}),!0):!1},l=function(){var a=h(),b=c.find("thead"),d=c.find("tbody"),e=c.find("tfoot"),g=b.find("tr").children(),i=e.find("tr").children();angular.forEach(g,f),angular.forEach(i,f),c.css("position","relative"),b.css("position","absolute"),d.css("position","relative"),e.css("position","absolute"),b.css("display","block"),d.css("display","block"),e.css("display","block");var j=a.thead.height,k=a.tfoot.height;d.css("marginTop",j+"px"),d.css("marginBottom",k+"px"),e.css("thead",0),e.css("bottom",0),a.table.maxHeight?d.css("maxHeight",a.table.maxHeight-j-k+"px"):d.css("height",a.table.height-j-k+"px"),("visible"===d.css("overflow")||""===d.css("overflow"))&&d.css("overflow","auto")};a(function(){k(),l(),b.$watch(function(){return c.find("tbody").find("tr")[0]},k)})}}}]);